Started GET "/" for 127.0.0.1 at 2018-07-08 22:02:10 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/zaytsev/.rvm/gems/ruby-2.5.1/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/zaytsev/.rvm/gems/ruby-2.5.1/gems/railties-5.2.0/lib/rails/templates/rails/welcome/index.html.erb (5.9ms)
Completed 200 OK in 30ms (Views: 14.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ bin/rails:9
  [1m[35m (127.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (131.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateRestaurants (20180708190518)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "work_from" time, "work_to" time, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/migrate/20180708190518_create_restaurants.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180708190518"]]
  â†³ bin/rails:9
  [1m[35m (92.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-07-08 19:05:36.012406"], ["updated_at", "2018-07-08 19:05:36.012406"]]
  â†³ bin/rails:9
  [1m[35m (98.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateTables (20180708190658)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/migrate/20180708190658_create_tables.rb:3
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "restaurant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  â†³ db/migrate/20180708190658_create_tables.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  â†³ db/migrate/20180708190658_create_tables.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180708190658"]]
  â†³ bin/rails:9
  [1m[35m (118.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateClients (20180708190742)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/migrate/20180708190742_create_clients.rb:3
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "clients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "phone_number" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/migrate/20180708190742_create_clients.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180708190742"]]
  â†³ bin/rails:9
  [1m[35m (130.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateReservations (20180708190826)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/migrate/20180708190826_create_reservations.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "reserve_start" datetime, "reserve_end" datetime, "table_id" integer, "client_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_23ce71128d"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
, CONSTRAINT "fk_rails_9c963d6879"
FOREIGN KEY ("client_id")
  REFERENCES "clients" ("id")
)[0m
  â†³ db/migrate/20180708190826_create_reservations.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reservations_on_table_id" ON "reservations" ("table_id")[0m
  â†³ db/migrate/20180708190826_create_reservations.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_reservations_on_client_id" ON "reservations" ("client_id")[0m
  â†³ db/migrate/20180708190826_create_reservations.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180708190826"]]
  â†³ bin/rails:9
  [1m[35m (132.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Bar"], ["created_at", "2018-07-08 19:18:32.844473"], ["updated_at", "2018-07-08 19:18:32.844473"]]
  [1m[35m (95.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Create (1.1ms)[0m  [1m[32mINSERT INTO "tables" ("code", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["code", "a1"], ["restaurant_id", 1], ["created_at", "2018-07-08 19:19:41.044919"], ["updated_at", "2018-07-08 19:19:41.044919"]]
  [1m[35m (79.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mClient Create (0.9ms)[0m  [1m[32mINSERT INTO "clients" ("name", "phone_number", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Kiril"], ["phone_number", "0961112233"], ["created_at", "2018-07-08 19:20:29.487086"], ["updated_at", "2018-07-08 19:20:29.487086"]]
  [1m[35m (116.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" ORDER BY "clients"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReservation Load (0.3ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = ?[0m  [["table_id", 1]]
  [1m[36mReservation Create (0.4ms)[0m  [1m[32mINSERT INTO "reservations" ("reserve_start", "reserve_end", "table_id", "client_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["reserve_start", "2018-07-08 19:23:58.482618"], ["reserve_end", "2018-07-08 22:23:58.482652"], ["table_id", 1], ["client_id", 1], ["created_at", "2018-07-08 19:24:09.398831"], ["updated_at", "2018-07-08 19:24:09.398831"]]
  [1m[35m (99.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" ORDER BY "clients"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReservation Load (0.3ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = ?[0m  [["table_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" ORDER BY "clients"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReservation Load (0.3ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = ?[0m  [["table_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" ORDER BY "clients"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = ?[0m  [["table_id", 1]]
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("reserve_start", "reserve_end", "table_id", "client_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["reserve_start", "2018-07-08 23:26:05.682155"], ["reserve_end", "2018-07-09 01:26:05.682330"], ["table_id", 1], ["client_id", 1], ["created_at", "2018-07-08 19:26:09.316579"], ["updated_at", "2018-07-08 19:26:09.316579"]]
  [1m[35m (90.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT  "reservations".* FROM "reservations" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" ORDER BY "clients"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" ORDER BY "tables"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRestaurant Create (31.0ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "work_from", "work_to", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Klos"], ["work_from", "2000-01-01 20:42:57.515469"], ["work_to", "2000-01-01 04:42:57.515471"], ["created_at", "2018-07-08 19:44:55.497230"], ["updated_at", "2018-07-08 19:44:55.497230"]]
  [1m[36mTable Update (0.3ms)[0m  [1m[33mUPDATE "tables" SET "restaurant_id" = ?, "updated_at" = ? WHERE "tables"."id" = ?[0m  [["restaurant_id", 2], ["updated_at", "2018-07-08 19:44:55.533087"], ["id", 1]]
  [1m[35m (84.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = ?[0m  [["table_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
